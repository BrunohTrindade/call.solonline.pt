@api = http://89.117.58.152:8080
@frontend = http://89.117.58.152:8081

### Health
GET {{api}}/api/health

### Login
POST {{api}}/api/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "admin123"
}

### Guardar token para usar nas próximas
@token = {{login.response.body.$.token}}

### Me
GET {{api}}/api/me
Authorization: Bearer {{token}}

### Listar usuários (admin)
GET {{api}}/api/users?page=1&per_page=10
Authorization: Bearer {{token}}

### Criar usuário (admin)
POST {{api}}/api/users
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Usuário Teste",
  "email": "user.teste@example.com",
  "password": "senha123",
  "is_admin": false
}

### Atualizar usuário (admin)
PUT {{api}}/api/users/2
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "name": "Usuário Teste 2",
  "is_admin": true
}

### Remover usuário (admin)
DELETE {{api}}/api/users/2
Authorization: Bearer {{token}}

### Listar contatos (página 1)
GET {{api}}/api/contacts?page=1
Authorization: Bearer {{token}}

### Detalhe de um contato
GET {{api}}/api/contacts/1
Authorization: Bearer {{token}}

### Atualizar observação e marcar processado
PUT {{api}}/api/contacts/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "observacao": "Contato realizado, aguardando retorno."
}

### Após primeira gravação (não-admin): gravar somente em info_adicional
PUT {{api}}/api/contacts/1
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "info_adicional": "Ligação de acompanhamento realizada em 03/10."
}

### Importar CSV (admin)
# Use a extensão REST Client do VS Code e altere o caminho do arquivo abaixo
POST {{api}}/api/contacts/import
Authorization: Bearer {{token}}
Content-Type: multipart/form-data; boundary=WebKitFormBoundary7MA4YWxkTrZu0gW

--WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="contatos.csv"
Content-Type: text/csv

# Substitua a linha abaixo pelo caminho do seu arquivo CSV local quando for testar com a extensão REST Client:
# < /caminho/para/seu/arquivo/contatos.csv
--WebKitFormBoundary7MA4YWxkTrZu0gW--
